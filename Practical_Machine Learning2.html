<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:ו;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:ו;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@ו";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:9.0pt;
	margin-right:0cm;
	margin-bottom:9.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
h1
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri","sans-serif";
	color:#345A8A;}
h2
	{margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;}
h3
	{margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;}
h4
	{margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;}
h5
	{margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;
	font-weight:normal;
	font-style:italic;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:9.0pt;
	margin-right:0cm;
	margin-bottom:9.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:12.0pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri","sans-serif";
	color:#345A8A;
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:9.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoDate, li.MsoDate, div.MsoDate
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.Compact, li.Compact, div.Compact
	{mso-style-name:Compact;
	margin-top:1.8pt;
	margin-right:0cm;
	margin-bottom:1.8pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.Authors, li.Authors, div.Authors
	{mso-style-name:Authors;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.BlockQuote, li.BlockQuote, div.BlockQuote
	{mso-style-name:"Block Quote";
	margin-top:5.0pt;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
p.DefinitionTerm, li.DefinitionTerm, div.DefinitionTerm
	{mso-style-name:"Definition Term";
	margin-top:9.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
p.Definition, li.Definition, div.Definition
	{mso-style-name:Definition;
	margin-top:9.0pt;
	margin-right:0cm;
	margin-bottom:9.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.TableCaption, li.TableCaption, div.TableCaption
	{mso-style-name:"Table Caption";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-style:italic;}
p.ImageCaption, li.ImageCaption, div.ImageCaption
	{mso-style-name:"Image Caption";
	mso-style-link:"Body Text Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-style:italic;}
span.BodyTextChar
	{mso-style-name:"Body Text Char";
	mso-style-link:"Image Caption";}
span.VerbatimChar
	{mso-style-name:"Verbatim Char";
	mso-style-link:"Source Code";
	font-family:Consolas;}
span.FootnoteRef
	{mso-style-name:"Footnote Ref";
	vertical-align:super;}
span.Link
	{mso-style-name:Link;
	color:#4F81BD;}
p.SourceCode, li.SourceCode, div.SourceCode
	{mso-style-name:"Source Code";
	mso-style-link:"Verbatim Char";
	margin-top:9.0pt;
	margin-right:0cm;
	margin-bottom:9.0pt;
	margin-left:0cm;
	background:#F8F8F8;
	word-break:break-all;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
span.KeywordTok
	{mso-style-name:KeywordTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;
	font-weight:bold;}
span.DataTypeTok
	{mso-style-name:DataTypeTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;}
span.DecValTok
	{mso-style-name:DecValTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.BaseNTok
	{mso-style-name:BaseNTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.FloatTok
	{mso-style-name:FloatTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.CharTok
	{mso-style-name:CharTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.StringTok
	{mso-style-name:StringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.CommentTok
	{mso-style-name:CommentTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-style:italic;}
span.OtherTok
	{mso-style-name:OtherTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;}
span.AlertTok
	{mso-style-name:AlertTok;
	font-family:Consolas;
	color:#EF2929;
	background:#F8F8F8;}
span.FunctionTok
	{mso-style-name:FunctionTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.RegionMarkerTok
	{mso-style-name:RegionMarkerTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.ErrorTok
	{mso-style-name:ErrorTok;
	font-family:Consolas;
	background:#F8F8F8;
	font-weight:bold;}
span.NormalTok
	{mso-style-name:NormalTok;
	font-family:Consolas;
	background:#F8F8F8;}
.MsoChpDefault
	{font-size:12.0pt;
	font-family:"Cambria","serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN>

<div class=WordSection1 style='layout-grid:15.6pt'>

<h1><a name=practical-machine-final-project><span lang=EN-US>Practical Machine
Final Project</span></a></h1>

<h1><a name=introduction><span lang=EN-US>Introduction</span></a></h1>

<p class=MsoNormal><span lang=EN-US>This writeup uses data from mobile
accelerometers on the belt, forearm, arm, and dumbell of 6 participants. They
were asked to perform barbell lifts correctly and incorrectly in 5 different
ways. More information is available from the website here: <a
href="http://groupware.les.inf.puc-rio.br/har"><span class=Link><span
style='text-decoration:none'>http://groupware.les.inf.puc-rio.br/har</span></span></a>
(see the section on the Weight Lifting Exercise Dataset).</span></p>

<h1><a name=data-preparation><span lang=EN-US>Data Preparation</span></a></h1>

<h2><a name=data-source><span lang=EN-US>Data Source</span></a></h2>

<p class=MsoNormal><span lang=EN-US>The data training data is located here: <a
href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"><span
class=Link><span style='text-decoration:none'>https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv</span></span></a></span></p>

<p class=MsoNormal><span lang=EN-US>The testing data is located here: <a
href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"><span
class=Link><span style='text-decoration:none'>https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv</span></span></a></span></p>

<p class=MsoNormal><span lang=EN-US>The original source and a discussion on the
data can be found here: <a href="http://groupware.les.inf.puc-rio.br/har"><span
class=Link><span style='text-decoration:none'>http://groupware.les.inf.puc-rio.br/har</span></span></a></span></p>

<h2><a name=loading-and-cleaning><span lang=EN-US>Loading and cleaning</span></a></h2>

<p class=MsoNormal><span lang=EN-US>The data contains 160 columns. Many of
these are blank or NA for the vast majority of measurements. Taking a look at
the testing data, we see that only 60 columns are populated with actual data.
So we will use those columns for the learning algorithm and discard the rest.</span></p>

<p class=MsoNormal><span lang=EN-US>Also, although the X column contains
numbers, we won't use that because it seems that the training data is sorted on
the 'classe' column and allowing the machine learning algorithm to use the X
column could lead to wrong results.</span></p>

<p class=MsoNormal><span lang=EN-US>Columns used:</span></p>

<p class=SourceCode><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>keepCols &lt;-</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'> </span></span><span class=KeywordTok><span
lang=EN-US style='font-size:11.0pt'>c</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(</span></span><span class=StringTok><span
lang=EN-US style='font-size:11.0pt'>&quot;classe&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;user_name&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;raw_timestamp_part_1&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;raw_timestamp_part_2&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;cvtd_timestamp&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;new_window&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;num_window&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;roll_belt&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;pitch_belt&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;yaw_belt&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;total_accel_belt&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_belt_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_belt_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_belt_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_belt_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_belt_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_belt_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_belt_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_belt_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_belt_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;roll_arm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;pitch_arm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;yaw_arm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;total_accel_arm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_arm_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_arm_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_arm_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_arm_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_arm_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_arm_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_arm_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_arm_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_arm_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;roll_dumbbell&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;pitch_dumbbell&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;yaw_dumbbell&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;total_accel_dumbbell&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_dumbbell_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_dumbbell_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_dumbbell_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_dumbbell_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_dumbbell_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_dumbbell_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_dumbbell_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_dumbbell_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_dumbbell_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;roll_forearm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;pitch_forearm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;yaw_forearm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;total_accel_forearm&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_forearm_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_forearm_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;gyros_forearm_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_forearm_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_forearm_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;accel_forearm_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_forearm_x&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_forearm_y&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;magnet_forearm_z&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span></p>

<p class=MsoNormal><span lang=EN-US>The data is loaded as follows:</span></p>

<p class=SourceCode><span class=KeywordTok><span lang=EN-US style='font-size:
11.0pt'>setwd</span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>(</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'>&quot;D:/Rcode&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>full_training
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=KeywordTok><span lang=EN-US
style='font-size:11.0pt'>read.csv</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(</span></span><span class=StringTok><span
lang=EN-US style='font-size:11.0pt'>&quot;pml-training.csv&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span><span
lang=EN-US><br>
<br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>full_testing
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=KeywordTok><span lang=EN-US
style='font-size:11.0pt'>read.csv</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(</span></span><span class=StringTok><span
lang=EN-US style='font-size:11.0pt'>&quot;pml-testing.csv&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span></p>

<h2><a name=cross-validation><span lang=EN-US>Cross Validation</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Although there is some discussion on the
class forum about the random forest algorithm not needing cross validation, for
the purposes of this course it is important to understand the concept, so we
will apply it here.</span></p>

<p class=MsoNormal><span lang=EN-US>A 10/90 split will be made with the data.
10% for training and the remaining 90% for a validation dataset. After the
validation dataset appears to be passing, we will apply the model to the 20
test cases for the assignment.</span></p>

<p class=MsoNormal><span lang=EN-US>10% is a low number, but training a random
forest is REALLY SLOW and 10% seems to produce results that are accurate
enough.</span></p>

<p class=MsoNormal><span lang=EN-US>The source data is not sequential (meaning
records don't depend on previous records), but does appear to be sorted by both
the classe and user_name columns. So we will use a partitioning technique that randomly
mixes up the data.</span></p>

<p class=SourceCode><span class=KeywordTok><span lang=EN-US style='font-size:
11.0pt'>library</span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>(caret)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span lang=EN-US style='font-size:
11.0pt'>## Loading required package: lattice</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##
Loading required package: ggplot2</span></span></p>

<p class=SourceCode><span class=KeywordTok><span lang=EN-US style='font-size:
11.0pt'>set.seed</span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>(</span></span><span class=DecValTok><span lang=EN-US
style='font-size:11.0pt'>235458</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>)</span></span><span lang=EN-US><br>
<br>
<br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>inTrain
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=KeywordTok><span lang=EN-US
style='font-size:11.0pt'>createDataPartition</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>(</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>y=</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>full_training$X, </span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>p=</span></span><span
class=FloatTok><span lang=EN-US style='font-size:11.0pt'>0.10</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>list=</span></span><span
class=OtherTok><span lang=EN-US style='font-size:11.0pt'>FALSE</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span><span
lang=EN-US><br>
<br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>training
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>full_training[inTrain,keepCols]</span></span><span lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>validation
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>full_training[-inTrain,keepCols]</span></span></p>

<h1><a name=applying-machine-learning><span lang=EN-US>Applying Machine
Learning</span></a></h1>

<h2><a name=approach><span lang=EN-US>Approach</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Reading the supporting documentation for
the data, the original authors said that they used a Random Forest approach. I
will do the same here.</span></p>

<h2><a name=performance><span lang=EN-US>Performance</span></a></h2>

<p class=MsoNormal><span lang=EN-US>We will enable multi-threading to speed up
the training.</span></p>

<p class=SourceCode><span class=KeywordTok><span lang=EN-US style='font-size:
11.0pt'>library</span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>(doParallel)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span lang=EN-US style='font-size:
11.0pt'>## Loading required package: foreach</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##
Loading required package: iterators</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##
Loading required package: parallel</span></span></p>

<p class=SourceCode><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>## I have 4 cores on my desktop, set this to whatever number you have</span></span><span
lang=EN-US><br>
</span><span class=KeywordTok><span lang=EN-US style='font-size:11.0pt'>registerDoParallel</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>(</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>cores=</span></span><span
class=DecValTok><span lang=EN-US style='font-size:11.0pt'>4</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span></p>

<h2><a name=training><span lang=EN-US>Training</span></a></h2>

<p class=MsoNormal><span lang=EN-US>The <b>classe</b> field contains the value
we are trying to predict. A,B,C,D, and E. These equate to the quality of the
exercise performed. A means it was performed correctly, and the other values
indicate bad form (but the same bad form for each letter).</span></p>

<p class=SourceCode><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>modFit &lt;-</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'> </span></span><span class=KeywordTok><span
lang=EN-US style='font-size:11.0pt'>train</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(classe ~</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'> </span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>.,</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>data=</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>training,</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>method=</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;rf&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span lang=EN-US style='font-size:
11.0pt'>## Loading required package: randomForest</span></span><span
lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##
randomForest 4.6-7</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##
Type rfNews() to see new features/changes/bug fixes.</span></span></p>

<p class=MsoNormal><span lang=EN-US>This takes a few minutes to run.</span></p>

<h2><a name=validation><span lang=EN-US>Validation</span></a></h2>

<p class=MsoNormal><span lang=EN-US>With a model trained, we can use the
validation records to assess how accurate model is.</span></p>

<p class=SourceCode><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>valResults &lt;-</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'> </span></span><span class=KeywordTok><span
lang=EN-US style='font-size:11.0pt'>predict</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(modFit,</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>newdata=</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>validation)</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>validation$answer
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>valResults</span></span></p>

<h2><a name=out-of-sample-error><span lang=EN-US>Out of Sample Error</span></a></h2>

<p class=SourceCode><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>tmp &lt;-</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'> </span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>validation[,</span></span><span class=KeywordTok><span
lang=EN-US style='font-size:11.0pt'>c</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(</span></span><span class=StringTok><span
lang=EN-US style='font-size:11.0pt'>&quot;user_name&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;classe&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>,</span></span><span
class=StringTok><span lang=EN-US style='font-size:11.0pt'>&quot;answer&quot;</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>)]</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>tmp$match
&lt;-</span></span><span class=StringTok><span lang=EN-US style='font-size:
11.0pt'> </span></span><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>tmp$classe ==</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'> </span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>tmp$answer</span></span><span lang=EN-US><br>
<br>
</span><span class=KeywordTok><span lang=EN-US style='font-size:11.0pt'>summary</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>(tmp)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span lang=EN-US style='font-size:
11.0pt'>##&nbsp;&nbsp;&nbsp;&nbsp; user_name&nbsp;&nbsp;&nbsp;
classe&nbsp;&nbsp; answer&nbsp;&nbsp;&nbsp;&nbsp;
match&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;
adelmo&nbsp; :3513&nbsp;&nbsp; A:5019&nbsp;&nbsp; A:5136&nbsp;&nbsp; Mode
:logical&nbsp; </span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;
carlitos:2780&nbsp;&nbsp; B:3413&nbsp;&nbsp; B:3312&nbsp;&nbsp;
FALSE:370&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;
charles :3184&nbsp;&nbsp; C:3100&nbsp;&nbsp; C:3110&nbsp;&nbsp; TRUE
:17288&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;
eurico&nbsp; :2790&nbsp;&nbsp; D:2867&nbsp;&nbsp; D:2883&nbsp;&nbsp; NA's
:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;
jeremy&nbsp; :3042&nbsp;&nbsp; E:3259&nbsp;&nbsp;
E:3217&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;
pedro&nbsp;&nbsp; :2349</span></span></p>

<p class=SourceCode><span class=KeywordTok><span lang=EN-US style='font-size:
11.0pt'>table</span></span><span class=NormalTok><span lang=EN-US
style='font-size:11.0pt'>(tmp$answer,tmp$classe)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span lang=EN-US style='font-size:
11.0pt'>##&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
A&nbsp;&nbsp;&nbsp; B&nbsp;&nbsp;&nbsp; C&nbsp;&nbsp;&nbsp; D&nbsp;&nbsp;&nbsp;
E</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;&nbsp;
A 5011&nbsp; 125&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0</span></span><span
lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;&nbsp;
B&nbsp;&nbsp;&nbsp; 8 3235&nbsp;&nbsp; 69&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;
0</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;&nbsp;
C&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp; 44 3023&nbsp;&nbsp; 43&nbsp;&nbsp;&nbsp; 0</span></span><span
lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;&nbsp;
D&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 9&nbsp;&nbsp;&nbsp; 8 2813&nbsp;&nbsp;
53</span></span><span lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##&nbsp;&nbsp;
E&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp; 11
3206</span></span></p>

<p class=MsoNormal><span lang=EN-US>Of 17658 records in the validation set,
17288, or 97.9046% matched and 370 did not match. The out of sample error rate
is 2.0954%.</span></p>

<h1><a name=results-of-test-set><span lang=EN-US>Results of Test Set</span></a></h1>

<p class=MsoNormal><span lang=EN-US>Now that a high level of confidence has
been shown in the model, we can apply it to the test data.</span></p>

<p class=SourceCode><span class=NormalTok><span lang=EN-US style='font-size:
11.0pt'>answers &lt;-</span></span><span class=StringTok><span lang=EN-US
style='font-size:11.0pt'> </span></span><span class=KeywordTok><span
lang=EN-US style='font-size:11.0pt'>predict</span></span><span class=NormalTok><span
lang=EN-US style='font-size:11.0pt'>(modFit,</span></span><span
class=DataTypeTok><span lang=EN-US style='font-size:11.0pt'>newdata=</span></span><span
class=NormalTok><span lang=EN-US style='font-size:11.0pt'>full_testing)</span></span><span
lang=EN-US><br>
</span><span class=NormalTok><span lang=EN-US style='font-size:11.0pt'>answers</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span lang=EN-US style='font-size:
11.0pt'>##&nbsp; [1] B A B A A E D A A A B C B A E E A B B B</span></span><span
lang=EN-US><br>
</span><span class=VerbatimChar><span lang=EN-US style='font-size:11.0pt'>##
Levels: A B C D E</span></span></p>

<p class=MsoNormal><span lang=EN-US>All answers are correct.</span></p>

</div>

</body>

</html>
